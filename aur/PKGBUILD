pkgname=bdf-tewi-git
pkgver=20130402
pkgrel=1
pkgdesc="Bitmap font"
arch=('any')
url="https://github.com/neeee/bdf-tewi"
license=('custom' 'GPL3')
depends=('fontconfig' 'xorg-fonts-encodings' 'xorg-font-utils')
makedepends=('git')
install=$pkgname.install
_gitroot="git://github.com/neeee/bdf-tewi.git"
_gitname="bdf-tewi"

package() {
	cd "$srcdir"

	msg "Connecting to GIT server...."
	if [[ -d "$_gitname" ]]; then
		cd "$_gitname" && git pull origin
		msg "The local files are updated."
	else
		git clone "$_gitroot" "$_gitname"
	fi

	msg "GIT checkout done or server timeout"
	msg "Packaging..."

	cd "$srcdir/$_gitname"

	install -Dm644 "Tewi-bold-11.bdf"\
		"${pkgdir}/usr/share/fonts/misc/Tewi-bold-11.bdf"
	install -Dm644 "Tewi-normal-11.bdf"\
		"${pkgdir}/usr/share/fonts/misc/Tewi-normal-11.bdf"

	# Install license file
	install -Dm644 "COPYING"\
		"${pkgdir}/usr/share/licenses/${pkgname}/COPYING"
}
